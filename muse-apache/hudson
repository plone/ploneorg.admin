<VirtualHost *:80>

	ServerAdmin admins@plone.org
    ServerName hudson.plone.org

    DocumentRoot /var/www

	ErrorLog /var/log/apache2/hudson-error.log

	# Possible values include: debug, info, notice, warn, error, crit,
	# alert, emerg.
	LogLevel warn

	CustomLog /var/log/apache2/hudson-access.log combined

    # Use last flag because no more rewrite can be applied after proxy pass
    RewriteRule       ^/hudson(.*)$  http://localhost:8080/hudson$1 [P,L]
    ProxyPassReverse  /hudson        http://localhost:8080/hudson
    ProxyRequests     Off

    # Local reverse proxy authorization override
    # Most unix distribution deny proxy by default (ie /etc/apache2/mods-enabled/proxy.conf in Ubuntu)
    <Proxy http://localhost:8080/hudson*>
      Order deny,allow
      Allow from all
    </Proxy>

</VirtualHost>
